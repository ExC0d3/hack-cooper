<!DOCTYPE html>
<html lang = "en">
<head>
  <meta charset = "utf-8">
  <meta http-equiv = "X-UA-Compatible" content = "IE=edge">
  <meta name = "viewport" content = "width=device-width, initial-scale=1">
  <meta name = "description" content = "GoDeals">
  <meta name = "author" content = "Hack Cooper Team">
  <link rel = "icon" href = "images/Entypo_e70c(0)_14.png">

  <title> Bazaar </title>

  <!--Bootstrap-->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  
  <!--Site Style-->
  <link href = "stylesheets/payment.css" rel = "stylesheet">
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
  <script  src="js/test.js"></script>
  <!--JS Scripts-->
  
  <script src = "js/bootstrap.min.js"></script>
  <script src = "js/index.js"></script>
  
  <!--Toggles-->
  <link href="https://gitcdn.github.io/bootstrap-toggle/2.2.2/css/bootstrap-toggle.min.css" rel="stylesheet">
  <script src="https://gitcdn.github.io/bootstrap-toggle/2.2.2/js/bootstrap-toggle.min.js"></script>
  <script type="text/javascript">
      $(function () {
        $('[data-toggle="popover"]').popover()
      })


      $("#payment-button").click(function(e) {

          // Fetch form to apply Bootstrap validation
          var form = $(this).parents('form');
          
          if (form[0].checkValidity() === false) {
            e.preventDefault();
            e.stopPropagation();
          }
          else {
            // Perform ajax submit here
            form.submit();
          }
          
          form.addClass('was-validated');
      });
  </script>
  <body>
      <div class="container-fluid py-3">
          <div class="row">
              <div class="col-12 col-sm-8 col-md-6 col-lg-4 mx-auto">
                  <div id="pay-invoice" class="card">
                      <div class="card-body">
                          <div class="card-title">
                              <h3 class="text-center">Pay Invoice</h3>
                          </div>
                          <hr>
                          <form action="/paymentConfirmation" method="post" novalidate="novalidate" class="needs-validation">
                              <div class="form-group text-center">
                                  <ul class="list-inline">
                                      <li class="list-inline-item"><i class="text-muted fa fa-cc-visa fa-2x"></i></li>
                                      <li class="list-inline-item"><i class="fa fa-cc-mastercard fa-2x"></i></li>
                                      <li class="list-inline-item"><i class="fa fa-cc-amex fa-2x"></i></li>
                                      <li class="list-inline-item"><i class="fa fa-cc-discover fa-2x"></i></li>
                                  </ul>
                              </div>
                              <div class="form-group">
                                  <label for="cc-payment" class="control-label mb-1">Payment amount</label>
                                  <input id="cc-payment" name="cc-payment" type="text" class="form-control" aria-required="true" aria-invalid="false" required value=<%-amount%>>
                                  <span class="invalid-feedback">Enter the payment amount</span>
                              </div>
                              <div class="form-group has-success">
                                  <label for="cc-name" class="control-label mb-1">Name on card</label>
                                  <input id="cc-name" name="cc-name" type="text" class="form-control cc-name" required autocomplete="cc-name" aria-required="true" aria-invalid="false" aria-describedby="cc-name-error"
                                  value="Mr. Abhinav">
                                  <span class="invalid-feedback">Enter the name as shown on credit card</span>
                              </div>
                              <div class="form-group">
                                  <label for="cc-number" class="control-label mb-1">Card number</label>
                                  <input id="cc-number" name="cc-number" type="tel" class="form-control cc-number identified visa" required="" pattern="[0-9]{16}" value="xxxx-xxxx-xxxx-4242">
                                  <span class="invalid-feedback">Enter a valid 16 digit card number</span>
                              </div>
                              <div class="row">
                                  <div class="col-6">
                                      <div class="form-group">
                                          <label for="cc-exp" class="control-label mb-1">Expiration</label>
                                          <input id="cc-exp" name="cc-exp" type="tel" class="form-control cc-exp" required placeholder="MM / YY" autocomplete="cc-exp">
                                          <span class="invalid-feedback">Enter the expiration date</span>
                                      </div>
                                  </div>
                                  <div class="col-6">
                                      <label for="x_card_code" class="control-label mb-1">Security code</label>
                                      <div class="input-group">
                                          <input id="x_card_code" name="x_card_code" type="password" class="form-control cc-cvc" required autocomplete="off">
                                          <span class="invalid-feedback order-last">Enter the 3-digit code on back</span>
                                          <div class="input-group-append">
                                              <div class="input-group-text">
                                              <span class="fa fa-question-circle fa-lg" data-toggle="popover" data-container="body" data-html="true" data-title="Security Code" 
                                              data-content="<div class='text-center one-card'>The 3 digit code on back of the card..<div class='visa-mc-cvc-preview'></div></div>"
                                              data-trigger="hover"></span>
                                              </div>
                                          </div>
                                      </div>
                                  </div>
                              </div>
                              <div class="form-group">
                                  <label for="x_zip" class="control-label mb-1">Postal code</label>
                                  <input id="x_zip" name="x_zip" type="text" class="form-control" value="" data-val="true" data-val-required="Please enter the ZIP/Postal code" autocomplete="postal-code">
                                  <span class="help-block" data-valmsg-for="x_zip" data-valmsg-replace="true"></span>
                              </div>
                              <div>
                                  <button id="payment-button" type="submit" class="btn btn-lg btn-info btn-block">
                                      <i class="fa fa-lock fa-lg"></i>&nbsp;
                                      <span id="payment-button-amount">Pay $<%-amount%>.00</span>
                                      <span id="payment-button-sending" style="display:none;">Sendingâ€¦</span>
                                  </button>
                              </div>
                          </form>
                      </div>
                  </div>
              </div>
          </div>
      </div>
  </body>
</head>
</html>
